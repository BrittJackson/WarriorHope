extends ../layout

block content
  div(class="container-fluid")
    div(class="container" style="text-align:center; margin-top: 25px;")
      div(class="input-container p-3")
        div(class="form-box" style="text-align: center;")
          form(id="changePassword" method="post" action="changePassword" onsubmit="passwMatch(this)")
            div(class="form-row")
              div(class="form-group col-lg-12")
                h1(class="p-3")
                  i(class="fas fa-lock" style="font-size: 3em; color: var(--yellow);")
                h1(class="m-0") Change Password
            div(class="form-row")
              div(class="form-group col-lg-12")
                div(class="input-group")
                  div(class="input-group-prepend")
                    span(class="input-group-text bg-primary boo text-dark") New Password
                  input(type="password" name="password" pattern="^[^&<>;*\\s]{8,50}$" required class="form-control")
            div(class="form-row")
              div(class="form-group col-lg-12")
                div(class="input-group")
                  div(class="input-group-prepend")
                    span(class="input-group-text bg-primary boo text-dark") Confirm
                  input(type="password" name="passwconfirm" pattern="^[^&<>;*\\s]{8,50}$" required class="form-control")
            div(class="form-row")
              div(class="form-group col-lg-12")
                button(type="submit" class="btn btn-success btn-block") Update
            if(success == 0) 
              div(class="form-row")
                div(class="form-group col-lg-12")
                  div(class="alert alert-danger mt-3") #{msg}
            else if(success == 1)
              div(class="form-row")
                div(class="form-group col-lg-12")
                  div(class="alert alert-success mt-3") #{msg}
        //- include change_password.html
block append footScript
  script.
    function passwMatch(passw) {
      pass = passw.password.value;
      passConfirm = passw.passwconfirm.value;
      if (pass != passConfirm) {
        alert("Passwords do not match. Please re-enter password.");
        return false;
      } else {
        return true;
      }
    }